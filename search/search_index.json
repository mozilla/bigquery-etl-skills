{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"BigQuery ETL Skills","text":"<p>A comprehensive Claude Code plugin that accelerates development workflows on Mozilla's bigquery-etl repository using Claude Code Skills and specialized agents.</p> <p>Designed for bigquery-etl</p> <p>Follow the Installation guide to install the plugin and you're ready to go. The Quickstart Guide provides examples to get you started.</p> <p>This plugin works best when launched from your local development environment within the bigquery-etl repository. </p>"},{"location":"#whats-included","title":"What's Included","text":""},{"location":"#skills","title":"Skills","text":"<p>Skills are specialized instruction sets that Claude loads dynamically to complete specific tasks. This plugin includes skills covering:</p> <ul> <li>Query writing (SQL and Python)</li> <li>Test generation</li> <li>Metadata and schema management</li> <li>Data quality monitoring</li> <li>Requirements gathering</li> </ul> <p>Learn more: Skills Overview</p>"},{"location":"#agents","title":"Agents","text":"<p>Agents are autonomous assistants that coordinate multiple skills to accomplish complex, multi-step workflows. This plugin includes agents for:</p> <ul> <li>End-to-end data model creation</li> <li>Schema migration (coming soon)</li> <li>And more...</li> </ul> <p>Learn more: Agents Overview</p>"},{"location":"#not-sure-which-to-use","title":"Not Sure Which to Use?","text":"<p>See the Skills vs Agents guide for a detailed comparison and decision framework.</p>"},{"location":"#what-you-can-do","title":"What You Can Do","text":"<p>Once installed, you can:</p> <ul> <li> <p>Build complete data models: Let the ETL orchestrator agent handle everything from requirements through testing and monitoring</p> </li> <li> <p>Work step-by-step with skills: Use individual skills for focused tasks like writing queries or generating tests</p> </li> <li> <p>Modify existing queries safely: Check downstream dependencies and update queries with proper conventions</p> </li> <li> <p>Add comprehensive unit tests: Generate test fixtures with realistic input/output data</p> </li> <li> <p>Set up production monitoring: Create Bigeye data quality configurations</p> </li> </ul>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li> <p> Installation Guide</p> <p>Get up and running in minutes</p> </li> <li> <p> Quick Start</p> <p>Jump right in with practical examples</p> </li> <li> <p> Skills vs Agents</p> <p>Understand when to use skills vs agents</p> </li> <li> <p> Available Skills</p> <p>See all specialized skills</p> </li> <li> <p> Available Agents</p> <p>Explore agents</p> </li> </ul>"},{"location":"MKDOCS_SETUP/","title":"MkDocs Documentation Setup","text":"<p>This document explains the MkDocs setup for BigQuery ETL Skills documentation.</p>"},{"location":"MKDOCS_SETUP/#whats-been-set-up","title":"What's Been Set Up","text":""},{"location":"MKDOCS_SETUP/#mkdocs-configuration","title":"MkDocs Configuration","text":"<p>File: <code>mkdocs.yml</code></p> <ul> <li>Material theme with dark/light mode</li> <li>Navigation structure for all skills and examples</li> <li>Search functionality</li> <li>Code highlighting</li> <li>GitHub integration</li> </ul>"},{"location":"MKDOCS_SETUP/#github-actions-workflow","title":"GitHub Actions Workflow","text":"<p>File: <code>.github/workflows/deploy-docs.yml</code></p> <p>Automatically deploys documentation to GitHub Pages on push to main.</p>"},{"location":"MKDOCS_SETUP/#dependencies","title":"Dependencies","text":"<p>File: <code>requirements.txt</code></p> <ul> <li>mkdocs</li> <li>mkdocs-material</li> <li>pymdown-extensions</li> </ul>"},{"location":"MKDOCS_SETUP/#testing-locally","title":"Testing Locally","text":""},{"location":"MKDOCS_SETUP/#install-dependencies","title":"Install Dependencies","text":"<pre><code>pip install -r requirements.txt\n</code></pre>"},{"location":"MKDOCS_SETUP/#serve-documentation-locally","title":"Serve Documentation Locally","text":"<pre><code>mkdocs serve\n</code></pre> <p>Then visit: http://127.0.0.1:8000</p>"},{"location":"MKDOCS_SETUP/#build-documentation","title":"Build Documentation","text":"<pre><code>mkdocs build\n</code></pre> <p>This creates a <code>site/</code> directory with static HTML.</p>"},{"location":"MKDOCS_SETUP/#updating-documentation","title":"Updating Documentation","text":""},{"location":"MKDOCS_SETUP/#adding-a-new-page","title":"Adding a New Page","text":"<ol> <li>Create the markdown file in <code>docs/</code></li> <li>Add it to the nav in <code>mkdocs.yml</code></li> <li>Test locally with <code>mkdocs serve</code></li> <li>Commit and push</li> </ol>"},{"location":"MKDOCS_SETUP/#updating-existing-pages","title":"Updating Existing Pages","text":"<ol> <li>Edit the markdown file</li> <li>Test locally</li> <li>Commit and push (auto-deploys)</li> </ol>"},{"location":"MKDOCS_SETUP/#updating-navigation","title":"Updating Navigation","text":"<p>Edit the <code>nav:</code> section in <code>mkdocs.yml</code></p>"},{"location":"MKDOCS_SETUP/#tips","title":"Tips","text":"<ul> <li> <p>Use admonitions for notes, warnings, tips:   <pre><code>!!! note \"Title\"\n    Content here\n</code></pre></p> </li> <li> <p>Add code blocks with syntax highlighting:   <pre><code>```python\ncode here\n```\n</code></pre></p> </li> <li> <p>Link between pages:   <pre><code>[Link text](../other-page.md)\n</code></pre></p> </li> <li> <p>Add images:   <pre><code>![Alt text](../images/image.png)\n</code></pre></p> </li> </ul>"},{"location":"MKDOCS_SETUP/#github-pages-url","title":"GitHub Pages URL","text":"<p>Once deployed, documentation will be available at:</p> <p>https://mozilla.github.io/bigquery-etl-skills/</p> <p>Temp link while private: https://friendly-adventure-1e683vz.pages.github.io/</p>"},{"location":"MKDOCS_SETUP/#maintenance","title":"Maintenance","text":"<ul> <li>Keep documentation in sync with skill changes</li> <li>Update examples when workflows change</li> <li>Review and update periodically for accuracy</li> <li>Monitor GitHub Actions for build failures</li> </ul>"},{"location":"agents/agent-prompt-patterns/","title":"Agent Prompt Patterns","text":"<p>Patterns for writing effective agent prompts.</p>"},{"location":"agents/agent-prompt-patterns/#identity-and-purpose","title":"Identity and Purpose","text":"<p>Start by telling the agent what it is:</p> <pre><code># ETL Orchestrator Agent\n\nYou are an autonomous agent that builds complete BigQuery data models\nend-to-end. You coordinate multiple skills to deliver production-ready\ntables with tests and monitoring.\n</code></pre>"},{"location":"agents/agent-prompt-patterns/#requirements-validation","title":"Requirements Validation","text":"<p>Prevent proceeding without sufficient information:</p> <pre><code>## CRITICAL: Requirements Check First\n\n**BEFORE doing any work, validate you have sufficient requirements.**\n\nCheck for these REQUIRED elements:\n- [ ] Source tables defined\n- [ ] Output columns specified\n- [ ] Key transformation logic clear\n\n**IF any are missing:** Ask targeted questions for ONLY the missing info.\n**IF complete:** Proceed to Phase 1.\n</code></pre>"},{"location":"agents/agent-prompt-patterns/#phased-workflow-with-checkpoints","title":"Phased Workflow with Checkpoints","text":"<p>Structure work as phases with explicit entry/exit criteria:</p> <pre><code>## Phase 2: Write the Query\n\n**Invoke the query-writer skill** with these instructions:\n\n1. Pass the requirements gathered earlier\n2. Specify output path: `sql/{project}/{dataset}/{table}/query.sql`\n\n**AFTER query-writer completes:**\n1. Verify query file exists\n2. Run: `./bqetl format sql/{project}/{dataset}/{table}/`\n3. Run: `./bqetl query validate sql/{project}/{dataset}/{table}/`\n\n**IF validation fails:**\n- Read the error message\n- Fix the issue\n- Re-run validation\n\n**DO NOT proceed to Phase 3 until validation passes.**\n</code></pre>"},{"location":"agents/agent-prompt-patterns/#error-recovery","title":"Error Recovery","text":"<p>Don't just list errors\u2014tell the agent how to recover:</p> <pre><code>## Error Handling\n\n**When errors occur, handle them autonomously:**\n\n### Test failures\n1. Analyze the failure output\n2. Determine root cause:\n   - Fixture issue \u2192 Add/update fixtures\n   - Schema mismatch \u2192 Update expect.yaml\n   - Logic error \u2192 Fix query.sql, restart from Phase 2\n3. Re-run tests\n4. Repeat until passing\n</code></pre>"},{"location":"agents/agent-prompt-patterns/#decision-guidelines","title":"Decision Guidelines","text":"<p>Make decision points explicit:</p> <pre><code>## Decision Guidelines\n\n### SQL vs Python query\n- **Use SQL** for: Aggregations, joins, window functions\n- **Use Python** for: API calls, pandas logic, INFORMATION_SCHEMA\n\n### When to ask questions\n- **DO ask** about: Missing source tables, unclear business logic\n- **DO NOT ask** about: File paths, formatting, implementation details\n</code></pre>"},{"location":"agents/agent-prompt-patterns/#completion-criteria","title":"Completion Criteria","text":"<p>Define what \"done\" looks like:</p> <pre><code>## Phase 6: Final Validation\n\n**Run these checks before reporting completion:**\n\n1. Verify all files exist\n2. Run full validation: `./bqetl query validate ...`\n3. Run tests: `pytest tests/... -v`\n4. Check formatting: `./bqetl format --check ...`\n\n**ALL checks must pass before proceeding.**\n\n## Phase 7: Report Completion\n\n**Provide a summary:**\n\n\\`\\`\\`\n\u2713 Implementation complete\n\nCreated files:\n- sql/.../query.sql\n- sql/.../metadata.yaml\n...\n\nTests: All passing\n\\`\\`\\`\n</code></pre>"},{"location":"agents/agent-prompt-patterns/#skill-coordination","title":"Skill Coordination","text":""},{"location":"agents/agent-prompt-patterns/#sequential-execution","title":"Sequential Execution","text":"<p>Execute skills in order:</p> <pre><code>### Phase 1: Requirements\nInvoke model-requirements skill\n\n### Phase 2: Implementation\nInvoke query-writer skill \u2192 Use output for next step\n\n### Phase 3: Metadata\nInvoke metadata-manager skill \u2192 Use query from Phase 2\n\n### Phase 4: Testing\nInvoke sql-test-generator skill \u2192 Use schema from Phase 3\n</code></pre>"},{"location":"agents/agent-prompt-patterns/#conditional-execution","title":"Conditional Execution","text":"<p>Execute skills based on conditions:</p> <pre><code>### Phase 2: Query Creation\nIF query.py needed:\n  - Invoke query-writer skill with Python template\nELSE:\n  - Invoke query-writer skill with SQL template\n\n### Phase 4: Monitoring (Optional)\nIF table is user-facing:\n  - Invoke bigconfig-generator skill\nELSE:\n  - Skip monitoring setup\n</code></pre>"},{"location":"agents/agent-prompt-patterns/#error-recovery-between-skills","title":"Error Recovery Between Skills","text":"<pre><code>### Phase 3: Testing\nInvoke sql-test-generator skill\nRun tests\n\nIF tests fail:\n  - Analyze failure type\n  - IF schema mismatch:\n    - Invoke metadata-manager to update schema\n    - Regenerate test fixtures\n    - Retry tests\n  - IF data mismatch:\n    - Review query logic\n    - Invoke query-writer to fix\n    - Regenerate tests\n    - Retry tests\n</code></pre>"},{"location":"agents/agent-prompt-patterns/#autonomy-levels","title":"Autonomy Levels","text":""},{"location":"agents/agent-prompt-patterns/#high-autonomy","title":"High Autonomy","text":"<pre><code>This agent operates with **high autonomy**:\n\n- Makes decisions about implementation approaches\n- Chooses appropriate patterns from templates\n- Determines when monitoring is needed\n- Fixes errors without user intervention\n- Only asks questions when requirements are ambiguous\n</code></pre>"},{"location":"agents/agent-prompt-patterns/#medium-autonomy","title":"Medium Autonomy","text":"<pre><code>This agent operates with **medium autonomy**:\n\n- Asks about architectural choices (e.g., incremental vs full refresh)\n- Confirms table naming and dataset selection\n- Handles implementation details autonomously\n- Fixes minor errors without asking\n</code></pre>"},{"location":"agents/agent-prompt-patterns/#low-autonomy","title":"Low Autonomy","text":"<pre><code>This agent operates with **low autonomy**:\n\n- Confirms each phase before proceeding\n- Shows plan and waits for approval\n- Asks about implementation details\n- Reports all decisions made\n</code></pre>"},{"location":"agents/agent-prompt-patterns/#example-schema-migrator","title":"Example: Schema Migrator","text":"<p>Complete example using these patterns:</p> <pre><code>---\nname: schema-migrator\ndescription: Safely migrates BigQuery table schemas and updates all dependent queries, tests, and documentation.\nskills: bigquery-etl-core, metadata-manager, sql-test-generator\nmodel: sonnet\n---\n\n# Schema Migrator Agent\n\nYou are an autonomous agent that migrates BigQuery table schemas and propagates\nchanges to dependent queries, tests, and documentation.\n\n## CRITICAL: Validate the Change Request\n\n**BEFORE making any changes, confirm you have:**\n\n- [ ] Target table path\n- [ ] Specific change requested (add column, change type, rename)\n- [ ] New field details (name, type, description)\n\n**IF breaking change detected:**\n- Warn the user explicitly\n- Ask for confirmation before proceeding\n- Do NOT proceed without explicit approval\n\n**IF requirements are clear:** Proceed to Phase 1.\n\n## Phase 1: Analysis\n\n**FIRST, load bigquery-etl-core** for conventions.\n\n**THEN, analyze the current state:**\n\n1. Read the current `schema.yaml`\n2. Identify the change type (additive vs breaking)\n3. Use DataHub to find downstream dependencies\n\n**Report findings before proceeding.**\n\n## Phase 2: Update Schema\n\n**Invoke metadata-manager skill** to update schema.yaml.\n\n**AFTER metadata-manager completes:**\n1. Verify schema.yaml was updated\n2. Check new field has description\n\n**IF breaking change:** Confirm with user before proceeding.\n\n## Phase 3: Update Tests\n\n**Invoke sql-test-generator skill** to update test fixtures.\n\n**AFTER sql-test-generator completes:**\n1. Run tests: `pytest tests/sql/{project}/{dataset}/{table}/ -v`\n\n**IF tests fail:**\n- Analyze failure\n- Fix fixtures or expectations\n- Re-run until passing\n\n**DO NOT proceed until all tests pass.**\n\n## Phase 4: Report Completion\n\n**Provide summary of all changes made.**\n\n## Error Handling\n\n### Breaking change detected\n1. Warn user with impact summary\n2. Wait for explicit confirmation\n3. Only proceed if user confirms\n\n## Decision Guidelines\n\n- **DO ask** about: Breaking changes, ambiguous column mappings\n- **DO NOT ask** about: Additive changes, test fixture updates\n</code></pre>"},{"location":"agents/agent-prompt-patterns/#best-practices","title":"Best Practices","text":""},{"location":"agents/agent-prompt-patterns/#do","title":"Do","text":"<ul> <li>Use imperative voice (\"Do X\", not \"The agent does X\")</li> <li>Add explicit verification after each phase</li> <li>Include error recovery loops</li> <li>Report progress at phase transitions</li> <li>Reuse existing skills</li> </ul>"},{"location":"agents/agent-prompt-patterns/#dont","title":"Don't","text":"<ul> <li>Duplicate skill logic in the agent</li> <li>Skip error handling</li> <li>Assume user intent\u2014ask when ambiguous</li> <li>Declare completion without verification</li> </ul>"},{"location":"agents/available-agents/","title":"Available Agents","text":"<p>Agents are autonomous assistants that coordinate multiple skills to accomplish complex tasks end-to-end.</p> <p>Below are the currently available agents:</p>"},{"location":"agents/available-agents/#etl-orchestrator","title":"ETL Orchestrator","text":""},{"location":"agents/available-agents/#overview","title":"Overview","text":"Property Value Name <code>etl-orchestrator</code> Purpose Builds complete BigQuery data models from provided requirements through testing and monitoring Skills Used bigquery-etl-core, query-writer, metadata-manager, sql-test-generator, bigconfig-generator Autonomy Level High - makes implementation decisions autonomously"},{"location":"agents/available-agents/#when-to-use","title":"When to Use","text":"<p>Use the ETL orchestrator when you have clear requirements and need:</p> <ul> <li>Complete table implementation: \"Build a new table for user retention metrics\"</li> <li>End-to-end workflows: \"Implement this data model with tests and monitoring\"</li> <li>Complex multi-step tasks: \"Create a derived table that aggregates events by user\"</li> <li>Production-ready deliverables: Tasks requiring full documentation and testing</li> </ul> <p>Provide requirements upfront</p> <p>The orchestrator works best when you provide clear requirements in your request (source tables, logic, partitioning, etc.). If you're unsure what you need, use the <code>model-requirements</code> skill first to gather requirements interactively, then invoke the orchestrator.</p>"},{"location":"agents/available-agents/#what-it-does","title":"What It Does","text":"<p>The orchestrator executes a complete ETL workflow:</p> <pre><code>graph TB\n    A[User Request] --&gt; B[Phase 1: Planning]\n    B --&gt; C[Phase 2: Implementation]\n    C --&gt; D[Phase 3: Testing]\n    D --&gt; E[Phase 4: Monitoring]\n    E --&gt; F[Phase 5: Validation]\n    F --&gt; G[Production-Ready Table]\n\n    B --&gt; B1[Validate Requirements]\n    B --&gt; B2[Create Plan]\n\n    C --&gt; C1[Write Query]\n    C --&gt; C2[Generate Schema]\n    C --&gt; C3[Create Metadata]\n\n    D --&gt; D1[Generate Test Fixtures]\n    D --&gt; D2[Run Tests]\n    D --&gt; D3[Fix Issues]\n\n    E --&gt; E1[Add Monitoring]\n    E --&gt; E2[Configure Alerts]\n\n    F --&gt; F1[Validate All Files]\n    F --&gt; F2[Report Summary]</code></pre>"},{"location":"agents/available-agents/#example-invocations","title":"Example Invocations","text":"<pre><code># Create a new derived table\n\"Build a new table called user_retention_daily that calculates\n7-day rolling retention from events_daily\"\n\n# Implement with full testing\n\"Implement a derived table for client attribution with proper\ntests and monitoring\"\n\n# Complex aggregation\n\"Create a new aggregate table for search metrics with incremental\nupdates and data quality checks\"\n</code></pre>"},{"location":"agents/available-agents/#what-you-get","title":"What You Get","text":"<p>Upon completion, the agent delivers:</p> <pre><code>sql/{project}/{dataset}/{table_name}/\n\u251c\u2500\u2500 query.sql OR query.py     # Query implementation\n\u251c\u2500\u2500 metadata.yaml              # Scheduling and ownership\n\u251c\u2500\u2500 schema.yaml                # Schema with descriptions\n\u251c\u2500\u2500 tests/                     # Test directory\n\u2502   \u251c\u2500\u2500 test_{table_name}/    # Test fixtures\n\u2502   \u2502   \u251c\u2500\u2500 source1.yaml\n\u2502   \u2502   \u251c\u2500\u2500 source2.yaml\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u2514\u2500\u2500 expect.yaml           # Expected output\n\u2514\u2500\u2500 bigconfig.yml             # Monitoring config (if applicable)\n</code></pre> <p>All files: - \u2705 Properly formatted per Mozilla conventions - \u2705 Fully documented with descriptions - \u2705 Tested and validated - \u2705 Ready for code review and deployment</p>"},{"location":"agents/available-agents/#error-handling","title":"Error Handling","text":"<p>The orchestrator handles common errors autonomously:</p> Error Type Agent Response Query errors Analyzes error, revises query, retries Test failures Diagnoses mismatch, updates schema/fixtures, reruns Schema mismatches Regenerates schema from query output Missing dependencies Documents missing sources, suggests resolution Formatting issues Applies Mozilla formatting conventions"},{"location":"agents/available-agents/#transparency","title":"Transparency","text":"<p>The agent reports progress at each phase:</p> <ul> <li>What it's doing and why</li> <li>Which skills it's invoking</li> <li>Decisions being made</li> <li>Issues encountered and how they were fixed</li> <li>Summary of what was created</li> </ul>"},{"location":"agents/available-agents/#when-not-to-use","title":"When NOT to Use","text":"<p>Don't use the orchestrator for:</p> <ul> <li>\u274c Simple query updates (use <code>query-writer</code> skill instead)</li> <li>\u274c Just adding tests (use <code>sql-test-generator</code> skill)</li> <li>\u274c Only schema changes (use <code>metadata-manager</code> skill)</li> <li>\u274c Quick fixes or single-file edits</li> </ul> <p>For single-task work, use the relevant skill directly - it's faster.</p>"},{"location":"agents/available-agents/#future-agents","title":"Future Agents","text":"<p>As the plugin evolves, additional specialized agents may be added for:</p> <ul> <li>Schema migration: Safely migrate schemas and update dependent code</li> <li>Data quality monitoring: Analyze tables and add comprehensive monitoring</li> <li>Query optimization: Analyze and optimize existing queries for performance</li> <li>Documentation generator: Generate comprehensive documentation for datasets</li> </ul> <p>See Creating Agents to learn how to build new agents.</p>"},{"location":"agents/available-agents/#quick-links","title":"Quick Links","text":"<ul> <li> <p> Agents Overview</p> <p>Understand how agents work</p> </li> <li> <p> Creating Agents</p> <p>Build your own agents</p> </li> <li> <p> Available Skills</p> <p>Skills that agents can use</p> </li> </ul>"},{"location":"agents/creating-agents/","title":"Creating Agents","text":"<p>Create autonomous agents that coordinate skills to accomplish complex workflows.</p>"},{"location":"agents/creating-agents/#prerequisites","title":"Prerequisites","text":"<ol> <li>Understand existing skills: Review available skills</li> <li>Identify the workflow: Define the multi-step process to automate</li> <li>Determine autonomy level: Decide how much the agent should decide vs ask</li> </ol>"},{"location":"agents/creating-agents/#when-to-create-an-agent","title":"When to Create an Agent","text":"<p>Create an agent when you have:</p> <ul> <li>A multi-step workflow combining multiple skills</li> <li>Need for autonomous decision-making</li> <li>Error recovery between steps</li> <li>A reusable orchestration pattern</li> </ul> <p>Don't create an agent when:</p> <ul> <li>A single skill can handle the task</li> <li>User interaction is needed at each step</li> <li>The task is a one-off</li> </ul>"},{"location":"agents/creating-agents/#file-structure","title":"File Structure","text":"<p>Create agent files in the <code>agents/</code> directory:</p> <pre><code>bigquery-etl-skills/\n\u251c\u2500\u2500 agents/\n\u2502   \u251c\u2500\u2500 etl-orchestrator.md\n\u2502   \u2514\u2500\u2500 your-new-agent.md\n</code></pre>"},{"location":"agents/creating-agents/#file-format","title":"File Format","text":"<p>Agents use Markdown with YAML frontmatter. Content should be imperative instructions to the agent, not documentation about the agent.</p> <pre><code>---\nname: agent-name\ndescription: What it does and when to use it\nskills: skill1, skill2, skill3\nmodel: sonnet\n---\n\n# Agent Name\n\nYou are an autonomous agent that [does X]. You coordinate skills to [deliver Y].\n\n## CRITICAL: Requirements Check First\n\n**BEFORE doing any work, validate you have sufficient requirements.**\n\nCheck for these REQUIRED elements:\n- [ ] Element 1\n- [ ] Element 2\n\n**IF any are missing:** Ask targeted clarifying questions.\n**IF requirements are complete:** Proceed to Phase 1.\n\n## Phase 1: [Name]\n\n**FIRST, do X.**\n\n**THEN, do Y:**\n\n1. Step one\n2. Step two\n\n**IF validation fails:**\n- Read the error\n- Fix the issue\n- Re-run validation\n\n**DO NOT proceed until validation passes.**\n\n## Phase 2: [Name]\n\n**Invoke the [skill-name] skill.**\n\n**AFTER skill completes:**\n1. Verify output exists\n2. Run validation\n\n## Error Handling\n\n**When errors occur, handle them autonomously:**\n\n### Error Type 1\n1. Read the error message\n2. Fix it\n3. Re-run validation\n\n## Decision Guidelines\n\n- **DO ask** about: [list]\n- **DO NOT ask** about: [list]\n</code></pre>"},{"location":"agents/creating-agents/#key-principles","title":"Key Principles","text":"<p>Based on Anthropic's agent guidelines:</p> <ol> <li> <p>Imperative voice: \"Do X\", \"Run Y\" - not \"The agent does X\"</p> </li> <li> <p>Explicit verification: Agents declare work complete prematurely. Add checks:    <pre><code>**AFTER Phase 2:**\n1. Verify file exists\n2. Run validation\n3. **DO NOT proceed until validation passes**\n</code></pre></p> </li> <li> <p>Phased structure: Break work into phases with entry/exit criteria</p> </li> <li> <p>IF/THEN logic: Make decision points explicit</p> </li> <li> <p>Error recovery loops: Tell the agent how to recover, not just what errors exist</p> </li> <li> <p>Progress reporting: Keep users informed at each phase</p> </li> </ol>"},{"location":"agents/creating-agents/#what-not-to-include","title":"What NOT to Include","text":"<pre><code>\u274c \"This agent autonomously...\"        \u2192 \u2705 \"You are an agent that...\"\n\u274c \"When to Use This Agent\"            \u2192 \u2705 (put in description field)\n\u274c \"Example Invocations\"               \u2192 \u2705 (not needed in prompt)\n</code></pre>"},{"location":"agents/creating-agents/#frontmatter-fields","title":"Frontmatter Fields","text":""},{"location":"agents/creating-agents/#required","title":"Required","text":"Field Description <code>name</code> Unique identifier (lowercase, hyphens) <code>description</code> What it does + when to use (for discovery)"},{"location":"agents/creating-agents/#optional","title":"Optional","text":"Field Description Default <code>skills</code> Comma-separated skills to auto-load None <code>model</code> <code>sonnet</code>, <code>opus</code>, <code>haiku</code>, or <code>inherit</code> <code>inherit</code> <code>tools</code> Comma-separated tools to allow All <code>permissionMode</code> <code>default</code>, <code>acceptEdits</code>, <code>bypassPermissions</code>, <code>plan</code> <code>default</code>"},{"location":"agents/creating-agents/#description-tips","title":"Description Tips","text":"<p>The description determines when Claude invokes your agent. Make it:</p> <ul> <li>Specific: State what tasks the agent handles</li> <li>Keyword-rich: Use terms users would naturally say</li> </ul> <pre><code># Good\ndescription: Autonomously builds complete BigQuery data models end-to-end from requirements through testing and monitoring. Use when implementing full ETL pipelines or new tables.\n\n# Good\ndescription: Safely migrates BigQuery schemas and updates all dependent queries, tests, and documentation. Use when changing table schemas or adding columns.\n</code></pre>"},{"location":"agents/creating-agents/#model-selection","title":"Model Selection","text":"<ul> <li><code>sonnet</code>: Best balance - use for most agents</li> <li><code>opus</code>: Complex reasoning - use sparingly</li> <li><code>haiku</code>: Fast/cheap - use for simple orchestration</li> </ul>"},{"location":"agents/creating-agents/#publishing","title":"Publishing","text":"<ol> <li> <p>Add to <code>.claude-plugin/marketplace.json</code>:    <pre><code>\"agents\": [\n  \"./agents/etl-orchestrator.md\",\n  \"./agents/your-new-agent.md\"\n]\n</code></pre></p> </li> <li> <p>Document in <code>docs/agents/available-agents.md</code></p> </li> <li> <p>Test thoroughly (see Testing Agents)</p> </li> <li> <p>Submit PR</p> </li> </ol>"},{"location":"agents/creating-agents/#next-steps","title":"Next Steps","text":"<ul> <li>Agent Prompt Patterns - Detailed patterns and examples</li> <li>Testing Agents - Test your agent locally</li> <li>Available Agents - See existing agents</li> </ul>"},{"location":"agents/overview/","title":"Agents Overview","text":"<p>Agents are autonomous AI assistants that coordinate multiple skills to accomplish complex, multi-step tasks. Unlike skills which are instruction sets for specific tasks, agents make decisions, handle errors, and work iteratively to achieve high-level goals.</p>"},{"location":"agents/overview/#what-are-agents","title":"What Are Agents?","text":"<p>Agents are specialized Claude Code subagents that:</p> <ul> <li>Operate autonomously: Make decisions about how to accomplish goals</li> <li>Coordinate skills: Invoke multiple skills in sequence to complete workflows</li> <li>Handle errors: Detect issues, diagnose problems, and fix them without user intervention</li> <li>Work iteratively: Refine and improve outputs through multiple passes</li> <li>Report progress: Keep you informed about what they're doing and why</li> </ul>"},{"location":"agents/overview/#agents-vs-skills","title":"Agents vs Skills","text":"<p>Agents differ from skills in their autonomy, scope, and purpose. While skills provide instructions for specific tasks, agents orchestrate multiple skills to accomplish complex workflows.</p> <p>Detailed Comparison</p> <p>See the Skills vs Agents guide for a comprehensive comparison, decision tree, and detailed scenarios to help you choose the right approach.</p>"},{"location":"agents/overview/#how-agents-work","title":"How Agents Work","text":""},{"location":"agents/overview/#anatomy-of-an-agent","title":"Anatomy of an Agent","text":"<p>Each agent is a markdown file in the <code>agents/</code> directory with YAML frontmatter:</p> <pre><code>---\nname: agent-name\ndescription: What this agent does and when Claude should invoke it\nskills: skill1, skill2, skill3\nmodel: sonnet\n---\n\n# Agent Name\n\nDetailed description of what the agent does...\n\n## When to Use This Agent\n...\n\n## How It Works\n...\n</code></pre>"},{"location":"agents/overview/#key-agent-fields","title":"Key Agent Fields","text":"Field Purpose <code>name</code> Unique identifier (lowercase, hyphens) <code>description</code> What it does + when to use it (for discovery) <code>skills</code> Comma-separated skills to auto-load <code>model</code> Model to use: <code>sonnet</code>, <code>opus</code>, or <code>haiku</code>"},{"location":"agents/overview/#agent-lifecycle","title":"Agent Lifecycle","text":"<ol> <li>Invocation: User requests a task that matches agent description</li> <li>Planning: Agent analyzes requirements and creates implementation plan</li> <li>Skill Coordination: Agent invokes relevant skills in sequence</li> <li>Validation: Agent checks outputs and fixes issues</li> <li>Iteration: Agent refines until production-ready</li> <li>Completion: Agent reports what was created</li> </ol>"},{"location":"agents/overview/#skill-coordination","title":"Skill Coordination","text":"<p>Agents access skills defined in their <code>skills:</code> frontmatter field:</p> <pre><code>---\nname: etl-orchestrator\nskills: bigquery-etl-core, query-writer, metadata-manager, sql-test-generator, bigconfig-generator\n---\n</code></pre> <p>These skills are automatically loaded when the agent starts, allowing the agent to invoke them as needed.</p>"},{"location":"agents/overview/#agent-architecture-benefits","title":"Agent Architecture Benefits","text":""},{"location":"agents/overview/#composability","title":"Composability","text":"<p>Agents leverage existing skills rather than duplicating logic:</p> <pre><code>graph TB\n    A[User Request with Requirements] --&gt; B[etl-orchestrator Agent]\n    B --&gt; C[query-writer Skill]\n    B --&gt; D[metadata-manager Skill]\n    B --&gt; E[sql-test-generator Skill]\n    B --&gt; F[bigconfig-generator Skill]\n    C --&gt; G[Complete Data Model]\n    D --&gt; G\n    E --&gt; G\n    F --&gt; G</code></pre>"},{"location":"agents/overview/#reusability","title":"Reusability","text":"<p>Skills remain usable both:</p> <ul> <li>Directly: Claude invokes them for specific tasks</li> <li>Via Agents: Agents coordinate them for complex workflows</li> </ul>"},{"location":"agents/overview/#maintainability","title":"Maintainability","text":"<ul> <li>Skills: Focus on single-task instructions and patterns</li> <li>Agents: Focus on orchestration and error handling</li> <li>Separation: Changes to agent logic don't affect skills</li> </ul>"},{"location":"agents/overview/#error-handling","title":"Error Handling","text":"<p>Agents handle errors autonomously through:</p> <ol> <li>Detection: Identifying when something fails (test failure, validation error)</li> <li>Diagnosis: Understanding what went wrong</li> <li>Correction: Fixing the issue</li> <li>Retry: Re-running the failed step</li> <li>Escalation: Asking user if autonomous fixes don't work</li> </ol>"},{"location":"agents/overview/#example-error-flow","title":"Example Error Flow","text":"<pre><code>Agent creates query \u2192 Generates tests \u2192 Runs tests \u2192 Test fails\n    \u2193\nAgent analyzes failure \u2192 Identifies schema mismatch\n    \u2193\nAgent updates schema.yaml \u2192 Regenerates tests \u2192 Runs tests \u2192 Success\n</code></pre>"},{"location":"agents/overview/#transparency","title":"Transparency","text":"<p>Agents report their work transparently:</p> <pre><code>Phase 1: Planning\n\u2713 Loaded bigquery-etl-core for conventions\n\u2713 Validated requirements are sufficient\n\u2713 Created implementation plan\n\nPhase 2: Implementation\n\u2713 Invoked query-writer to create query.sql\n\u2713 Query uses incremental partitioning\n\u2713 Invoked metadata-manager for schema\n\u2713 Generated 15 field descriptions\n\nPhase 3: Testing\n\u2713 Invoked sql-test-generator\n\u2713 Created 3 input fixtures\n\u2713 Generated expected output\n\u2717 Test failed: column mismatch\n\nPhase 3 (retry): Testing\n\u2713 Updated schema to match query output\n\u2713 Regenerated test fixtures\n\u2713 All tests passing\n\nPhase 4: Monitoring\n\u2713 Invoked bigconfig-generator\n\u2713 Added freshness check (24h threshold)\n\u2713 Added volume anomaly detection\n\nComplete! Created:\n- sql/moz-fx-data-shared-prod/telemetry_derived/user_retention_v1/query.sql\n- sql/moz-fx-data-shared-prod/telemetry_derived/user_retention_v1/metadata.yaml\n- sql/moz-fx-data-shared-prod/telemetry_derived/user_retention_v1/schema.yaml\n- sql/moz-fx-data-shared-prod/telemetry_derived/user_retention_v1/tests/...\n- sql/moz-fx-data-shared-prod/telemetry_derived/user_retention_v1/bigconfig.yml\n</code></pre>"},{"location":"agents/overview/#autonomy-levels","title":"Autonomy Levels","text":"<p>Agents can operate at different autonomy levels:</p> Level Description User Interaction High Agent makes all decisions Minimal - only for ambiguous requirements Medium Agent handles implementation, asks about approach Occasional - for architectural choices Low Agent confirms each step Frequent - for validation <p>The <code>etl-orchestrator</code> agent operates at high autonomy, only asking questions when requirements are unclear.</p>"},{"location":"agents/overview/#quick-links","title":"Quick Links","text":"<ul> <li> <p> Available Agents</p> <p>See all agents in the plugin</p> </li> <li> <p> Creating Agents</p> <p>Learn how to build new agents</p> </li> <li> <p> Skills vs Agents</p> <p>Detailed comparison and decision guide</p> </li> </ul>"},{"location":"agents/testing-agents/","title":"Testing Agents","text":"<p>Test your agent locally before publishing.</p>"},{"location":"agents/testing-agents/#setup","title":"Setup","text":"<p>Use the dev setup script to symlink your local agent files:</p> <pre><code>./scripts/dev-setup.sh\n</code></pre> <p>This creates symlinks from <code>~/.claude/agents/</code> to your local repo. Changes to agent files are reflected immediately.</p> <p>See Local Development for full setup details.</p>"},{"location":"agents/testing-agents/#test-workflow","title":"Test Workflow","text":"<pre><code># 1. Set up symlinks (once)\n./scripts/dev-setup.sh\n\n# 2. Start Claude Code\nclaude\n\n# 3. Give a task that matches your agent's description\n\"Build a new table for user retention metrics\"\n</code></pre>"},{"location":"agents/testing-agents/#what-to-verify","title":"What to Verify","text":""},{"location":"agents/testing-agents/#agent-invocation","title":"Agent invocation","text":"<ul> <li>Agent is selected for appropriate tasks</li> <li>Skills load correctly (check for errors)</li> <li>Agent can invoke each skill</li> </ul>"},{"location":"agents/testing-agents/#workflow-execution","title":"Workflow execution","text":"<ul> <li>Phases execute in order</li> <li>Checkpoints work (validation before proceeding)</li> <li>Progress is reported at each phase</li> </ul>"},{"location":"agents/testing-agents/#error-handling","title":"Error handling","text":"<ul> <li>Intentionally cause failures to test recovery</li> <li>Invalid query \u2192 Agent should detect and fix</li> <li>Test failure \u2192 Agent should diagnose and retry</li> <li>Missing info \u2192 Agent should ask (not assume)</li> </ul>"},{"location":"agents/testing-agents/#output-validation","title":"Output validation","text":"<ul> <li>All expected files created</li> <li>Files in correct locations</li> <li>Validation commands pass</li> <li>Tests pass</li> </ul>"},{"location":"agents/testing-agents/#debugging","title":"Debugging","text":"<p>Agent not invoked?</p> <ul> <li>Check the <code>description</code> field matches user intent</li> <li>Try more explicit phrasing that matches keywords</li> </ul> <p>Skills not loading?</p> <ul> <li>Verify <code>skills</code> field in frontmatter lists correct skill names</li> <li>Check skill files exist and have valid frontmatter</li> </ul> <p>Premature completion?</p> <ul> <li>Add explicit verification steps after each phase</li> <li>Use \"DO NOT proceed until...\" checkpoints</li> </ul>"},{"location":"agents/testing-agents/#cleanup","title":"Cleanup","text":"<p>Remove symlinks when done:</p> <pre><code>./scripts/dev-setup.sh --clean\n</code></pre>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>Install the BigQuery ETL Skills plugin directly from a Claude Code session in your IDE</p>"},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Claude Code installed and configured</li> </ul>"},{"location":"getting-started/installation/#installation-steps","title":"Installation Steps","text":""},{"location":"getting-started/installation/#1-launch-claude-code","title":"1. Launch Claude Code","text":"<p>Open your terminal and launch Claude Code:</p> <pre><code>claude\n</code></pre>"},{"location":"getting-started/installation/#2-add-the-marketplace","title":"2. Add the Marketplace","text":"<p>Add this repository as a plugin marketplace in Claude Code:</p> <pre><code>/plugin marketplace add https://github.com/mozilla/bigquery-etl-skills.git\n</code></pre>"},{"location":"getting-started/installation/#3-install-the-plugin","title":"3. Install the Plugin","text":"<p>Install the bigquery-etl-skills plugin:</p> <pre><code>/plugin install bigquery-etl-skills\n</code></pre>"},{"location":"getting-started/installation/#4-verify-installation","title":"4. Verify Installation","text":"<p>The skills should now be available. Open a new Claude Code session and ask:</p> <pre><code>What skills are available?\n</code></pre> <p>You should see all BigQuery ETL skills listed.</p>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<p>Once installed:</p> <ul> <li>Check out the Quick Start guide for hands-on examples</li> <li>Explore the Skills Overview or Agents Overview for detailed documentation</li> </ul>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":"<p>Skills Not Available?</p> <p>If skills don't appear after installation, try:</p> <ol> <li>Restart Claude Code</li> <li>Open a new session</li> <li>Verify the marketplace was added: <code>/plugin marketplace list</code></li> <li>Check plugin status: <code>/plugin list</code></li> </ol> <p>Working Directory</p> <p>For best results with BigQuery ETL file generation, launch Claude Code from within your local bigquery-etl repository directory.</p>"},{"location":"getting-started/local-development/","title":"Local Development","text":"<p>Test changes to skills and agents locally before committing.</p>"},{"location":"getting-started/local-development/#quick-start","title":"Quick Start","text":"<p>From the repo root:</p> <pre><code># Set up local development symlinks\n./scripts/dev-setup.sh\n\n# Start Claude Code to test\nclaude\n\n# Clean up when done\n./scripts/dev-setup.sh --clean\n</code></pre>"},{"location":"getting-started/local-development/#how-it-works","title":"How It Works","text":"<p>The <code>dev-setup.sh</code> script creates symlinks from your local repo to <code>~/.claude/</code>:</p> <pre><code>~/.claude/\n\u251c\u2500\u2500 skills/\n\u2502   \u2514\u2500\u2500 bigquery-etl-skills -&gt; /path/to/repo/skills/\n\u2514\u2500\u2500 agents/\n    \u2514\u2500\u2500 etl-orchestrator.md -&gt; /path/to/repo/agents/etl-orchestrator.md\n</code></pre> <p>Changes you make to skills or agents in the repo are immediately available in Claude Code sessions.</p>"},{"location":"getting-started/local-development/#testing-skills","title":"Testing Skills","text":"<p>After running <code>dev-setup.sh</code>:</p> <ol> <li>Start a new Claude Code session: <code>claude</code></li> <li>Invoke a skill: <code>/query-writer</code> or <code>/metadata-manager</code></li> <li>Verify your changes work as expected</li> <li>Iterate on the skill files and test again</li> </ol> <p>No restart needed</p> <p>Skills are loaded fresh each time they're invoked. You don't need to restart Claude Code after editing a skill.</p>"},{"location":"getting-started/local-development/#testing-agents","title":"Testing Agents","text":"<p>After running <code>dev-setup.sh</code>:</p> <ol> <li>Start a new Claude Code session: <code>claude</code></li> <li>Give a task that would invoke the agent</li> <li>The agent prompt is loaded when the Task tool spawns a subagent</li> </ol> <p>Agent testing</p> <p>Agents run as subagents via the Task tool. To test an agent directly, you can also paste its content into a conversation and give it a task.</p>"},{"location":"getting-started/local-development/#development-workflow","title":"Development Workflow","text":""},{"location":"getting-started/local-development/#for-skill-changes","title":"For skill changes","text":"<pre><code># 1. Set up (once)\n./scripts/dev-setup.sh\n\n# 2. Edit skill files\n# skills/query-writer/skill.md\n# skills/query-writer/references/*.md\n# skills/query-writer/assets/*\n\n# 3. Test in Claude Code\nclaude\n# &gt; /query-writer\n# &gt; [test your changes]\n\n# 4. Iterate until satisfied\n\n# 5. Clean up (optional - symlinks don't hurt)\n./scripts/dev-setup.sh --clean\n</code></pre>"},{"location":"getting-started/local-development/#for-agent-changes","title":"For agent changes","text":"<pre><code># 1. Set up (once)\n./scripts/dev-setup.sh\n\n# 2. Edit agent file\n# agents/etl-orchestrator.md\n\n# 3. Test in Claude Code\nclaude\n# &gt; Build a new table for user metrics...\n# &gt; [agent should be invoked]\n\n# 4. Or test by pasting the prompt directly:\n# &gt; [paste agent prompt content]\n# &gt; ---\n# &gt; Build a new table for user metrics...\n</code></pre>"},{"location":"getting-started/local-development/#cleanup","title":"Cleanup","text":"<p>Remove symlinks when you're done testing:</p> <pre><code>./scripts/dev-setup.sh --clean\n</code></pre> <p>This removes only the symlinks created by the setup script, leaving other <code>~/.claude</code> content intact.</p>"},{"location":"getting-started/local-development/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/local-development/#skills-not-appearing","title":"Skills not appearing","text":"<ol> <li>Verify symlinks exist: <code>ls -la ~/.claude/skills/</code></li> <li>Start a new Claude Code session</li> <li>Check for errors in setup: <code>./scripts/dev-setup.sh</code></li> </ol>"},{"location":"getting-started/local-development/#agent-not-being-invoked","title":"Agent not being invoked","text":"<p>Agents are invoked automatically when appropriate tasks are given. To force-test an agent:</p> <ol> <li>Copy the agent prompt content</li> <li>Paste it at the start of a conversation</li> <li>Give a task that matches the agent's purpose</li> </ol>"},{"location":"getting-started/local-development/#conflicts-with-installed-plugin","title":"Conflicts with installed plugin","text":"<p>If you have the plugin installed via marketplace AND local symlinks:</p> <ol> <li>Local symlinks take precedence for agents (same filename)</li> <li>Skills may conflict - uninstall the marketplace version during development:    <pre><code>/plugin uninstall bigquery-etl-skills\n</code></pre></li> <li>Re-install when done testing:    <pre><code>/plugin install bigquery-etl-skills\n</code></pre></li> </ol>"},{"location":"getting-started/local-development/#team-workflow","title":"Team Workflow","text":"<p>When multiple team members are developing:</p> <ol> <li>Each developer runs <code>./scripts/dev-setup.sh</code> locally</li> <li>Make changes on a feature branch</li> <li>Test locally with Claude Code</li> <li>Push and create PR</li> <li>Reviewers can check out the branch and test with the same setup</li> <li>Merge to main when approved</li> <li>Plugin updates are available to all users on next sync</li> </ol>"},{"location":"getting-started/quick-start/","title":"Quick Start","text":"<p>Get hands-on with BigQuery ETL Skills through practical examples.</p>"},{"location":"getting-started/quick-start/#your-first-query","title":"Your First Query","text":"<p>Let's create a simple aggregation query from scratch:</p> <pre><code>Write a query that counts daily active users from clients_daily for Firefox Desktop\n</code></pre> <p>Claude will:</p> <ol> <li>\u2705 Use bigquery-etl-core to understand conventions</li> <li>\u2705 Use query-writer to create the SQL</li> <li>\u2705 Use metadata-manager to generate schema and metadata files</li> <li>\u2705 Optionally use sql-test-generator to create unit tests</li> </ol>"},{"location":"getting-started/quick-start/#common-tasks","title":"Common Tasks","text":""},{"location":"getting-started/quick-start/#create-unit-tests","title":"Create Unit Tests","text":"<pre><code>Create unit tests for telemetry_derived/events_daily_v1\n</code></pre>"},{"location":"getting-started/quick-start/#update-an-existing-query","title":"Update an Existing Query","text":"<pre><code>Add a new field to telemetry_derived/clients_daily_v6\nthat calculates the ratio of searches with ads\n</code></pre>"},{"location":"getting-started/quick-start/#gather-requirements","title":"Gather Requirements","text":"<pre><code>I need to create a table tracking campaign click-through rates.\nHelp me gather requirements.\n</code></pre>"},{"location":"getting-started/quick-start/#add-monitoring","title":"Add Monitoring","text":"<pre><code>Add Bigeye monitoring for telemetry_derived/clients_daily_v6\n</code></pre>"},{"location":"getting-started/quick-start/#how-it-works","title":"How It Works","text":"<p>Automatic Skill Selection</p> <p>Claude automatically selects the right skills based on your request. You don't need to explicitly invoke them\u2014just describe what you want naturally!</p> <p>When you make a request, Claude:</p> <ol> <li>Analyzes your intent</li> <li>Selects appropriate skills</li> <li>Executes the workflow</li> <li>Iterates based on your feedback</li> </ol>"},{"location":"getting-started/quick-start/#tips-for-success","title":"Tips for Success","text":"<p>Be Specific</p> <ul> <li>\u2705 \"Create a daily aggregation query for active users\"</li> <li>\u274c \"Help with a query\"</li> </ul> <p>Include Paths</p> <p>Mention specific tables: <code>telemetry_derived/clients_daily_v6</code></p> <p>Work in Context</p> <p>Launch Claude from your bigquery-etl directory for file operations</p>"},{"location":"getting-started/skills-vs-agents/","title":"Skills vs Agents","text":"<p>When extending this plugin, choose the right building block for your use case.</p>"},{"location":"getting-started/skills-vs-agents/#at-a-glance","title":"At a Glance","text":"Skills Agents Purpose Domain expertise Workflow orchestration Structure Instructions + references + assets Phased instructions with decision logic Composition Can reference other skills Invoke skills in sequence Autonomy Claude follows instructions Agent makes decisions and iterates"},{"location":"getting-started/skills-vs-agents/#when-to-build-a-skill","title":"When to Build a Skill","text":"<p>Build a skill when you have domain-specific expertise to encode:</p> <ul> <li>SQL patterns and conventions</li> <li>File format specifications (schema.yaml, metadata.yaml)</li> <li>Tool usage (bqetl commands, DataHub queries)</li> <li>Reference material that Claude should consult</li> </ul> <p>Skills are building blocks. They're focused, reusable, and composable.</p>"},{"location":"getting-started/skills-vs-agents/#skill-structure","title":"Skill Structure","text":"<pre><code>skills/my-skill/\n\u251c\u2500\u2500 skill.md           # Instructions (imperative voice)\n\u251c\u2500\u2500 references/        # Detailed documentation\n\u2514\u2500\u2500 assets/            # Templates and examples\n</code></pre> <p>The <code>skill.md</code> tells Claude what to do. References provide depth. Assets give copy-paste starting points.</p>"},{"location":"getting-started/skills-vs-agents/#when-to-build-an-agent","title":"When to Build an Agent","text":"<p>Build an agent when you need multi-step orchestration:</p> <ul> <li>Coordinate multiple skills in sequence</li> <li>Make decisions based on intermediate results</li> <li>Handle errors and iterate autonomously</li> <li>Deliver complete outcomes (not just single files)</li> </ul> <p>Agents are orchestrators. They invoke skills and manage workflow.</p>"},{"location":"getting-started/skills-vs-agents/#agent-structure","title":"Agent Structure","text":"<pre><code>agents/my-agent.md     # Single file with phased instructions\n</code></pre> <p>The agent prompt defines:</p> <ol> <li>Requirements validation - What must be known before starting</li> <li>Phases - Sequential steps with clear checkpoints</li> <li>Decision criteria - When to take which path</li> <li>Error handling - How to recover from failures</li> <li>Completion criteria - When the work is done</li> </ol>"},{"location":"getting-started/skills-vs-agents/#how-they-compose","title":"How They Compose","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              etl-orchestrator           \u2502\n\u2502                  (agent)                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Phase 1: Load bigquery-etl-core        \u2502\n\u2502  Phase 2: Invoke query-writer      \u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2192 query-writer (skill)\n\u2502  Phase 3: Invoke metadata-manager  \u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2192 metadata-manager (skill)\n\u2502  Phase 4: Invoke sql-test-generator \u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2192 sql-test-generator (skill)\n\u2502  Phase 5: Invoke bigconfig-generator \u2500\u2500\u2500\u253c\u2500\u2500\u2192 bigconfig-generator (skill)\n\u2502  Phase 6: Validate and report           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Skills can also reference each other:</p> <pre><code>query-writer (skill)\n  \u2514\u2500\u2500 references bigquery-etl-core for conventions\n  \u2514\u2500\u2500 coordinates with sql-test-generator for test updates\n</code></pre>"},{"location":"getting-started/skills-vs-agents/#decision-guide","title":"Decision Guide","text":"<p>Build a skill if:</p> <ul> <li>The knowledge is useful standalone</li> <li>Multiple agents or workflows could use it</li> <li>It's focused on one domain (queries, schemas, tests)</li> </ul> <p>Build an agent if:</p> <ul> <li>The workflow spans multiple skills</li> <li>Autonomous decision-making adds value</li> <li>Error recovery should be automatic</li> <li>The deliverable is a complete outcome</li> </ul> <p>Start with skills. Build agents when you find yourself repeatedly coordinating the same skills in sequence.</p>"},{"location":"getting-started/skills-vs-agents/#examples-in-this-plugin","title":"Examples in This Plugin","text":""},{"location":"getting-started/skills-vs-agents/#skills-domain-expertise","title":"Skills (domain expertise)","text":"<ul> <li>query-writer: SQL/Python query patterns</li> <li>metadata-manager: schema.yaml and metadata.yaml conventions</li> <li>sql-test-generator: Test fixture creation</li> <li>bigconfig-generator: Bigeye monitoring configuration</li> </ul>"},{"location":"getting-started/skills-vs-agents/#agents-orchestration","title":"Agents (orchestration)","text":"<ul> <li>etl-orchestrator: Coordinates all skills to build complete tables</li> </ul>"},{"location":"getting-started/skills-vs-agents/#further-reading","title":"Further Reading","text":"<ul> <li>Creating Agents - How to write agent prompts</li> <li>Skills Overview - Skill structure and conventions</li> <li>Local Development - Test your changes</li> </ul>"},{"location":"skills/available-skills/","title":"Available Skills","text":"<p>This plugin provides specialized skills for BigQuery ETL workflows. Skills are automatically invoked by Claude based on your requests - you don't need to call them explicitly.</p>"},{"location":"skills/available-skills/#skill-categories","title":"Skill Categories","text":""},{"location":"skills/available-skills/#foundation","title":"Foundation","text":"Skill Purpose Claude uses when bigquery-etl-core Project conventions and patterns Checking naming conventions, understanding project structure"},{"location":"skills/available-skills/#construction-workflows","title":"Construction Workflows","text":"Skill Purpose Claude uses when model-requirements Requirements gathering Planning new tables or understanding existing ones query-writer SQL/Python query writing Creating or updating query.sql, query.py files or ad-hoc queries metadata-manager Schema and metadata config Generating schema.yaml &amp; metadata.yaml files with descriptions sql-test-generator Unit test generation Creating, updating, and running unit tests bigconfig-generator Data quality monitoring Adding Bigeye monitoring configurations"},{"location":"skills/available-skills/#meta-skills","title":"Meta Skills","text":"Skill Purpose Claude uses when skill-creator Create new skills Extending the plugin with new capabilities"},{"location":"skills/available-skills/#how-skills-work-together","title":"How Skills Work Together","text":"<p>Skills are designed to be composable\u2014they work together to complete complex workflows:</p>"},{"location":"skills/available-skills/#example-creating-a-new-table","title":"Example: Creating a New Table","text":"<pre><code>Prompt: Create a new table from ad_metrics that tracks advertiser performance grouped by:\n\n- submission_date\n- advertiser\n- country\n- impressions\n</code></pre> <pre><code>graph LR\n    A[User Request] --&gt; B[model-requirements]\n    B --&gt; C[query-writer]\n    C --&gt; D[metadata-manager]\n    D --&gt; E[sql-test-generator]\n    E --&gt; F[bigconfig-generator]\n    F --&gt; G[Complete Table]</code></pre> <ol> <li>model-requirements gathers requirements</li> <li>query-writer creates the SQL</li> <li>metadata-manager generates schema/metadata</li> <li>sql-test-generator creates tests</li> <li>bigconfig-generator adds monitoring</li> </ol>"},{"location":"skills/available-skills/#example-updating-a-query","title":"Example: Updating a Query","text":"<pre><code>Prompt: Update the logic in x table to filter out y\n</code></pre> <pre><code>graph LR\n    A[User Request] --&gt; B[query-writer]\n    B --&gt; C[metadata-manager]\n    C --&gt; D[sql-test-generator]\n    D --&gt; E[Updated Query]</code></pre> <ol> <li>query-writer updates the query</li> <li>metadata-manager updates the schema</li> <li>sql-test-generator updates tests</li> </ol> <p>See the Skills Overview for detailed information about skill anatomy and coordination.</p>"},{"location":"skills/available-skills/#quick-links","title":"Quick Links","text":"<ul> <li> <p> Installation Guide</p> <p>Get up and running in minutes</p> </li> <li> <p> Quick Start</p> <p>Jump right in with practical examples</p> </li> </ul>"},{"location":"skills/overview/","title":"Skills Overview","text":"<p>The BigQuery ETL Skills plugin includes specialized skills that work together to accelerate your workflows.</p>"},{"location":"skills/overview/#anatomy-of-a-skill","title":"Anatomy of a Skill","text":"<p>Each skill is a folder containing instructions, templates, and reference materials that Claude loads on-demand:</p> <pre><code>skill-name/\n\u251c\u2500\u2500 SKILL.md                    # Main skill instructions\n\u251c\u2500\u2500 assets/                     # Templates and examples\n\u2502   \u251c\u2500\u2500 template1.sql\n\u2502   \u251c\u2500\u2500 example1.py\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 references/                 # Detailed reference docs\n\u2502   \u251c\u2500\u2500 conventions.md\n\u2502   \u251c\u2500\u2500 patterns.md\n\u2502   \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 scripts/                    # Helper scripts (optional)\n</code></pre>"},{"location":"skills/overview/#skillmd","title":"SKILL.md","text":"<p>The main skill file with three key parts:</p> <p>1. Frontmatter Metadata <pre><code>---\nname: skill-name\ndescription: When Claude should invoke this skill\n---\n</code></pre></p> <p>The <code>description</code> field is critical\u2014it tells Claude when to automatically invoke the skill based on user requests.</p> <p>2. Instructions</p> <p>Step-by-step guidance for completing the skill's task:</p> <ul> <li>What to read first (references, templates)</li> <li>How to approach the work</li> <li>What to generate or update</li> <li>Required validations</li> <li>When to invoke other skills</li> </ul> <p>3. Coordination Points</p> <p>Explicit instructions for working with other skills: <pre><code>## Skill Coordination\n- After completing X, invoke metadata-manager\n- If Y is needed, invoke sql-test-generator\n</code></pre></p>"},{"location":"skills/overview/#assets","title":"<code>assets/</code>","text":"<p>Templates and examples that Claude can read and copy:</p> <ul> <li>SQL query templates</li> <li>Python script templates</li> <li>Configuration examples</li> <li>Sample input/output data</li> </ul> <p>These files provide concrete patterns to follow, reducing hallucination and ensuring consistency.</p>"},{"location":"skills/overview/#references","title":"<code>references/</code>","text":"<p>Detailed documentation broken into focused topics:</p> <ul> <li>Conventions and standards</li> <li>Common patterns and anti-patterns</li> <li>External documentation links</li> <li>Decision trees and workflows</li> </ul> <p>Breaking knowledge into smaller files helps Claude load only what's relevant for each task.</p>"},{"location":"skills/overview/#scripts-optional","title":"<code>scripts/</code> (optional)","text":"<p>Helper scripts for validation, generation, or analysis\u2014used when bash operations are needed during skill execution.</p>"},{"location":"skills/overview/#quick-links","title":"Quick Links","text":"<ul> <li> <p> Installation Guide</p> <p>Get up and running in minutes</p> </li> <li> <p> Quick Start</p> <p>Jump right in with practical examples</p> </li> </ul>"}]}